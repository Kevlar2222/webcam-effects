(this["webpackJsonpwebcam-effects"]=this["webpackJsonpwebcam-effects"]||[]).push([[0],{10:function(e,a,t){e.exports=t(18)},15:function(e,a,t){},17:function(e,a,t){},18:function(e,a,t){"use strict";t.r(a);var n=t(0),c=t.n(n),r=t(8),l=t.n(r),o=(t(15),t(2)),i=t.n(o),d=t(9),u=t(1),s=t(3),f=t(4),m=t(6),v=t(5),h=(t(17),function(e){Object(m.a)(t,e);var a=Object(v.a)(t);function t(e){var n;return Object(s.a)(this,t),(n=a.call(this,e)).state={},n}return Object(f.a)(t,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){return c.a.createElement("div",{className:"App"},c.a.createElement(E,null),c.a.createElement(b,null),c.a.createElement(p,null))}}]),t}(c.a.Component));function E(){return c.a.createElement("div",null,c.a.createElement("div",{id:"title"},c.a.createElement("h1",null,"Webcam Effects")),c.a.createElement("video",{className:"video"}))}function b(e){return c.a.createElement("form",{className:"navBar"},c.a.createElement("label",null,"Red",c.a.createElement("input",{className:"red",name:"choice",type:"radio"})),c.a.createElement("label",null,"Blue",c.a.createElement("input",{className:"blue",name:"choice",type:"radio"})),c.a.createElement("label",null,"Green",c.a.createElement("input",{className:"green",name:"choice",type:"radio"})),c.a.createElement("label",null,"Split",c.a.createElement("input",{className:"split",name:"choice",type:"radio"})),c.a.createElement("label",null,"Ghost",c.a.createElement("input",{className:"ghost",name:"choice",type:"radio"})))}var p=function(e){Object(m.a)(t,e);var a=Object(v.a)(t);function t(e){var n;return Object(s.a)(this,t),(n=a.call(this,e)).state={isPlaying:!1,video:""},n.getVideo=n.getVideo.bind(Object(u.a)(n)),n.drawToCanvas=n.drawToCanvas.bind(Object(u.a)(n)),n.redEffect=n.redEffect.bind(Object(u.a)(n)),n.blueEffect=n.blueEffect.bind(Object(u.a)(n)),n.greenEffect=n.greenEffect.bind(Object(u.a)(n)),n.splitEffect=n.splitEffect.bind(Object(u.a)(n)),n.ghostEffect=n.ghostEffect.bind(Object(u.a)(n)),n}return Object(f.a)(t,[{key:"getVideo",value:function(){var e=Object(d.a)(i.a.mark((function e(){var a,t,n=this;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,navigator.mediaDevices.getUserMedia({video:!0});case 2:a=e.sent,(t=document.querySelector("video")).srcObject=a,t.play(),this.setState({isPlaying:!0}),this.setState({video:t}),t.onloadedmetadata=function(){n.drawToCanvas()};case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"componentDidMount",value:function(){this.getVideo()}},{key:"redEffect",value:function(e){for(var a=0;a<e.data.length;a+=4)e.data[a+0]=e.data[a+0]+150,e.data[a+1]=e.data[a+1]-50,e.data[a+2]=e.data[a+2]-50;return e}},{key:"blueEffect",value:function(e){for(var a=0;a<e.data.length;a+=4)e.data[a+0]=e.data[a+0]-50,e.data[a+1]=e.data[a+1]-50,e.data[a+2]=e.data[a+2]+150;return e}},{key:"greenEffect",value:function(e){for(var a=0;a<e.data.length;a+=4)e.data[a+0]<100&&e.data[a+1]<100&&e.data[a+2]<100&&(e.data[a+0]=0,e.data[a+1]=255,e.data[a+2]=0);return e}},{key:"ghostEffect",value:function(e){for(var a=0;a<e.data.length;a+=4)e.data[a+0]=e.data[a+0]+5,e.data[a+1]=e.data[a+1]+5,e.data[a+2]=e.data[a+2]+5;return e}},{key:"splitEffect",value:function(e){for(var a=0;a<e.data.length;a+=4)e.data[a-350]=e.data[a+0],e.data[a+500]=e.data[a+1],e.data[a-550]=e.data[a+2];return e}},{key:"drawToCanvas",value:function(){var e=this,a=document.querySelector("canvas"),t=document.querySelector("video"),n=t.videoHeight,c=t.videoWidth;a.height=n,a.width=c;var r=a.getContext("2d");setInterval((function(){r.drawImage(t,0,0,c,n);var a=r.getImageData(0,0,c,n),l=document.querySelector("input[type=radio]:checked");null!==l&&(l=l.className),"red"===l&&(e.redEffect(a),r.globalAlpha=1),"blue"===l&&(e.blueEffect(a),r.globalAlpha=1),"green"===l&&(e.greenEffect(a),r.globalAlpha=1),"ghost"===l&&(e.ghostEffect(a),r.globalAlpha=.05),"split"===l&&e.splitEffect(a),r.putImageData(a,0,0)}),16)}},{key:"render",value:function(){return c.a.createElement("div",{className:"videoContainer"},c.a.createElement("canvas",{className:"canvas"}))}}]),t}(c.a.Component),g=h;Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(c.a.createElement(c.a.StrictMode,null,c.a.createElement(g,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[10,1,2]]]);
//# sourceMappingURL=main.64e7849c.chunk.js.map
(this["webpackJsonpwebcam-effects"]=this["webpackJsonpwebcam-effects"]||[]).push([[0],{10:function(e,t,a){e.exports=a(18)},15:function(e,t,a){},17:function(e,t,a){},18:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),r=a(8),l=a.n(r),o=(a(15),a(2)),i=a.n(o),d=a(9),u=a(1),s=a(3),f=a(4),m=a(6),v=a(5),h=(a(17),function(e){Object(m.a)(a,e);var t=Object(v.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).state={},n}return Object(f.a)(a,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){return c.a.createElement("div",{className:"App"},c.a.createElement(E,null),c.a.createElement(b,null),c.a.createElement(p,null))}}]),a}(c.a.Component));function E(){return c.a.createElement("div",null,c.a.createElement("div",{id:"title"},c.a.createElement("h1",null,"Webcam Effects")),c.a.createElement("div",{id:"subtitle"},c.a.createElement("h2",null,"By Kevin Satti")),c.a.createElement("video",{className:"video"}))}function b(e){return c.a.createElement("form",{className:"navBar"},c.a.createElement("label",null,"Red",c.a.createElement("input",{className:"red",name:"choice",type:"radio"})),c.a.createElement("label",null,"Blue",c.a.createElement("input",{className:"blue",name:"choice",type:"radio"})),c.a.createElement("label",null,"Green",c.a.createElement("input",{className:"green",name:"choice",type:"radio"})),c.a.createElement("label",null,"Split",c.a.createElement("input",{className:"split",name:"choice",type:"radio"})),c.a.createElement("label",null,"Ghost",c.a.createElement("input",{className:"ghost",name:"choice",type:"radio"})))}var p=function(e){Object(m.a)(a,e);var t=Object(v.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).state={isPlaying:!1,video:""},n.getVideo=n.getVideo.bind(Object(u.a)(n)),n.drawToCanvas=n.drawToCanvas.bind(Object(u.a)(n)),n.redEffect=n.redEffect.bind(Object(u.a)(n)),n.blueEffect=n.blueEffect.bind(Object(u.a)(n)),n.greenEffect=n.greenEffect.bind(Object(u.a)(n)),n.splitEffect=n.splitEffect.bind(Object(u.a)(n)),n.ghostEffect=n.ghostEffect.bind(Object(u.a)(n)),n}return Object(f.a)(a,[{key:"getVideo",value:function(){var e=Object(d.a)(i.a.mark((function e(){var t,a,n=this;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,navigator.mediaDevices.getUserMedia({video:!0});case 2:t=e.sent,(a=document.querySelector("video")).srcObject=t,a.play(),this.setState({isPlaying:!0}),this.setState({video:a}),a.onloadedmetadata=function(){n.drawToCanvas()};case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"componentDidMount",value:function(){this.getVideo()}},{key:"redEffect",value:function(e){for(var t=0;t<e.data.length;t+=4)e.data[t+0]=e.data[t+0]+150,e.data[t+1]=e.data[t+1]-50,e.data[t+2]=e.data[t+2]-50;return e}},{key:"blueEffect",value:function(e){for(var t=0;t<e.data.length;t+=4)e.data[t+0]=e.data[t+0]-50,e.data[t+1]=e.data[t+1]-50,e.data[t+2]=e.data[t+2]+150;return e}},{key:"greenEffect",value:function(e){for(var t=0;t<e.data.length;t+=4)e.data[t+0]<100&&e.data[t+1]<100&&e.data[t+2]<100&&(e.data[t+0]=0,e.data[t+1]=255,e.data[t+2]=0);return e}},{key:"ghostEffect",value:function(e){for(var t=0;t<e.data.length;t+=4)e.data[t+0]=e.data[t+0]+5,e.data[t+1]=e.data[t+1]+5,e.data[t+2]=e.data[t+2]+5;return e}},{key:"splitEffect",value:function(e){for(var t=0;t<e.data.length;t+=4)e.data[t-350]=e.data[t+0],e.data[t+500]=e.data[t+1],e.data[t-550]=e.data[t+2];return e}},{key:"drawToCanvas",value:function(){var e=this,t=document.querySelector("canvas"),a=document.querySelector("video"),n=a.videoHeight,c=a.videoWidth;t.height=n,t.width=c;var r=t.getContext("2d");setInterval((function(){r.drawImage(a,0,0,c,n);var t=r.getImageData(0,0,c,n),l=document.querySelector("input[type=radio]:checked");null!==l&&(l=l.className),"red"===l&&(e.redEffect(t),r.globalAlpha=1),"blue"===l&&(e.blueEffect(t),r.globalAlpha=1),"green"===l&&(e.greenEffect(t),r.globalAlpha=1),"ghost"===l&&(e.ghostEffect(t),r.globalAlpha=.05),"split"===l&&e.splitEffect(t),r.putImageData(t,0,0)}),16)}},{key:"render",value:function(){return c.a.createElement("div",{className:"videoContainer"},c.a.createElement("canvas",{className:"canvas"}))}}]),a}(c.a.Component),g=h;Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(c.a.createElement(c.a.StrictMode,null,c.a.createElement(g,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[10,1,2]]]);
//# sourceMappingURL=main.0833b416.chunk.js.map